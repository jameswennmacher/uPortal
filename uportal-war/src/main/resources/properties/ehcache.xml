<?xml version="1.0" encoding="UTF-8"?>
<!--

    Licensed to Jasig under one or more contributor license
    agreements. See the NOTICE file distributed with this work
    for additional information regarding copyright ownership.
    Jasig licenses this file to you under the Apache License,
    Version 2.0 (the "License"); you may not use this file
    except in compliance with the License. You may obtain a
    copy of the License at:

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on
    an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied. See the License for the
    specific language governing permissions and limitations
    under the License.

-->

<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://ehcache.org/ehcache.xsd" updateCheck="false">

    <!--
     | Please see http://ehcache.sourceforge.net/documentation/configuration.html for detailed information on
     | how to configurigure caches in this file
     +-->

    <!-- Location of persistent caches on disk -->
    <diskStore path="java.io.tmpdir/uPortal" />
    
    <defaultCache eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="600" memoryStoreEvictionPolicy="LRU" statistics="true" />

    <!-- ******************** uPortal Framework Caches ******************** -->
    
    <!-- 
     | Caches if the user is a default user (generally only used during import/export)
     | - 1 x user
     | - not replicated
     +-->
    <cache name="org.jasig.portal.RDBMUserIdentityStore.isDefaultUser"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches user specific lock
     | - 1 x user
     | - not replicated
     +-->
    <cache name="org.jasig.portal.RDBMUserIdentityStore.userLockCache"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches Skin Resource instances
     | - 1 x skin
     | - not replicated - represents local file system data
     +-->
    <cache name="org.jasig.portal.web.skin.Resources"
        eternal="false" maxElementsInMemory="50" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches Skin Resource DocumentFragment instances, the XML chunk added to the <head>
     | - 1 x skin
     | - not replicated - represents local file system data
     +-->
    <cache name="org.jasig.portal.web.skin.Resources_DocumentFragment"
        eternal="false" maxElementsInMemory="50" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches AuthorizationPrincipalImpl instances
     | - 1 x user
     | - 1 x channel
     | - 1 x group
     | - not replicated - doesn't represent an updatable data store
     +-->
    <cache name="org.jasig.portal.security.provider.AuthorizationImpl.AUTH_PRINCIPAL_CACHE"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches containing group keys for a permissions target
     | 1 x group x group members
     | - not replicated - doesn't represent an updatable data store
     +-->
    <cache name="org.jasig.portal.security.provider.AuthorizationImpl.ENTITY_PARENTS_CACHE"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="60" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches parsed composite group name strings (ex: "pags.root" to "pags" & "root")
     | - 1 x group
     | - not replicated - doesn't represent an updatable data store
     +-->
    <cache name="org.jasig.portal.groups.CompositeEntityIdentifier.NAME_PARSE_CACHE"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    
    <!-- 
     | Caches fragment layouts
     | - 1 x fragment layout
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.layout.dlm.FragmentActivator.userViews"
        eternal="false" maxElementsInMemory="100" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="600" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
     <!-- 
     | Caches node descriptor objects for fragment layouts
     | - 1 x fragment layout node
     | - not replicated
     +-->
    <cache name="org.jasig.portal.layout.dlm.RDBMDistributedLayoutStore.fragmentNodeInfoCache"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="300" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches layout DOM
     | - 1 x user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.layout.dlm.LAYOUT_CACHE"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="7200" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches layout node reference resolution, only used during import and export
     | - 1 x layout x dlm reference node
     | - not replicated - only used by a command line tool
     +-->
    <cache name="org.jasig.portal.layout.dlm.NODEREF_CACHE"
        eternal="false" maxElementsInMemory="2000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="180" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches resolved resource URLs
     | - 1 x classpath resource (framework XSL files and such)
     | - not replicated - pertains to local file system data
     +-->
    <cache name="org.jasig.portal.utils.ResourceLoader.RESOURCE_URL_CACHE"
        eternal="false" maxElementsInMemory="250" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches failed resource URL resolution
     | - 1 x classpath resource that does not exist (framework XSL files and such)
     | - not replicated - pertains to local file system data
     +-->
    <cache name="org.jasig.portal.utils.ResourceLoader.RESOURCE_URL_NOT_FOUND_CACHE"
        eternal="false" maxElementsInMemory="250" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="600" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches parsed CPD files
     | - 1 x .cpd file
     | - not replicated - pertains to local file system data
     +-->
    <cache name="org.jasig.portal.portlets.portletadmin.PortletAdministrationHelper.CPD_CACHE"
        eternal="false" maxElementsInMemory="250" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- ******************** Per-Datasource Person Directory Caches ******************** -->
    <!-- 
     | Caches the final merge results of a person directory query, short cache to ensure the
     | individual attribute source caches are honored
     | - 1 x user
     | - not replicated - doesn't represent an updatable data store
     +-->
    <cache name="org.jasig.services.persondir.USER_INFO.merged"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="5" timeToLiveSeconds="10" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches queries against the local UP_USER table
     | - 1 x user
     | - not replicated - doesn't represent an updatable data store
     +-->
    <cache name="org.jasig.services.persondir.USER_INFO.up_user"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="600" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches queries against the local UP_PERSON_DIR table
     | - 1 x user
     | - not replicated - doesn't represent an updatable data store
     +-->
    <cache name="org.jasig.services.persondir.USER_INFO.up_person_dir"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="600" memoryStoreEvictionPolicy="LRU" statistics="true" />
        

    <!-- ******************** uPortal IBasicEntity Caches ******************** -->

    <!-- 
     | Caches IEntityGroup objects
     | - 1 x group across all group stores
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.groups.IEntityGroup"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches IEntity objects
     | - 1 x group member (channels, users)
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.groups.IEntity"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches IPermissionSet objects
     | - 1 x per permissions owner (channel manager, user, ...)
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.security.IPermissionSet"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- ******************** Hibernate Caches ******************** -->
    
    <!-- 
     | Caches UserFragmentSubscriptions
     | - 1 per fragment subscription per user
     +-->
    <cache name="org.jasig.portal.fragment.subscribe.dao.jpa.UserFragmentSubscriptionImpl"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches UserFragmentSubscription queries by user
     | - 1 per active user
     +-->
    <cache name="org.jasig.portal.fragment.subscribe.dao.jpa.UserFragmentSubscriptionImpl.query.FIND_USER_FRAGMENT_INFO_BY_PERSON"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches UserFragmentSubscription queries by user and owner
     | - 1 per fragment subscription per active user
     +-->
    <cache name="org.jasig.portal.fragment.subscribe.dao.jpa.UserFragmentSubscriptionImpl.query.FIND_USER_FRAGMENT_INFO_BY_PERSON_CACHE_AND_OWNER"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches DLM Evaluator object
     | - 1 x per DLM layout fragment
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.layout.dlm.Evaluator"
        eternal="false" maxElementsInMemory="100" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!--
     | Query cache for Evaluator subclass FragmentDefinition
     | - unique query, no parameters
     +-->
    <cache name="org.jasig.portal.layout.dlm.FragmentDefinition.evaluators"
        eternal="false" maxElementsInMemory="100" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!--
     | Query cache for Evaluator subclass FragmentDefinition
     | - unique query, no parameters
     +-->
    <cache name="org.jasig.portal.layout.dlm.FragmentDefinition.query.GET_ALL_FRAGMENTS"
        eternal="false" maxElementsInMemory="1" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!--
     | Query cache for Evaluator subclass FragmentDefinition
     | - 1 x per DLM layout fragment
     +-->
    <cache name="org.jasig.portal.layout.dlm.FragmentDefinition.query.FIND_FRAGMENT_BY_NAME"
        eternal="false" maxElementsInMemory="100" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches list of DLM Evaluators
     | - 1 per parentheses in the evaluators
     +-->
    <cache name="org.jasig.portal.layout.dlm.providers.Paren.evaluators"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches list of DLM Evaluators
     | - 1 per evaluator group
     +-->
    <cache name="org.jasig.portal.layout.dlm.providers.EvaluatorGroup.evaluators"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches PermissionOwner objects
     | - 1 x permission owner type
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.permission.dao.jpa.PermissionOwnerImpl"
        eternal="false" maxElementsInMemory="50" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches PermissionOwner queries by fname
     | - 1 x permission owner type
     | - not replicated
     +-->
    <cache name="org.jasig.portal.permission.dao.jpa.PermissionOwnerImpl.query.FIND_PERMISSION_OWNER_BY_FNAME"
        eternal="false" maxElementsInMemory="50" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches IPermissionActivity objects within PermissionOwner objects
     | - 1 per IPermissionActivity per permission owner type
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.permission.dao.jpa.PermissionOwnerImpl.activities"
        eternal="false" maxElementsInMemory="50" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches PermissionActivity objects
     | - 1 x permission activity
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.permission.dao.jpa.PermissionActivityImpl"
        eternal="false" maxElementsInMemory="100" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
     
    <!-- 
     | Caches CachedPortletData objects
     | - 1 per user per portlet that tells the container to cache it's render content (see portlet MimeResponse#getCacheControl())
     +-->   
    <cache name="org.jasig.portal.portlet.container.cache.PortletCacheControlServiceImpl.privateScopePortletRenderOutputCache"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches CachedPortletData objects
     | - 1 per user per portlet that tells the container to cache it's render content in the PUBLIC_SCOPE (see portlet MimeResponse#getCacheControl())
     +-->   
    <cache name="org.jasig.portal.portlet.container.cache.PortletCacheControlServiceImpl.publicScopePortletRenderOutputCache"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches CachedPortletData objects
     | - 1 per user per portlet that tells the container to cache it's resource content (see portlet MimeResponse#getCacheControl())
     +-->   
    <cache name="org.jasig.portal.portlet.container.cache.PortletCacheControlServiceImpl.privateScopePortletResourceOutputCache"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches CachedPortletData objects
     | - 1 per user per portlet that tells the container to cache it's resource content in the PUBLIC_SCOPE (see portlet MimeResponse#getCacheControl())
     +-->   
    <cache name="org.jasig.portal.portlet.container.cache.PortletCacheControlServiceImpl.publicScopePortletResourceOutputCache"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches PortalCookieImpl objects
     | - 1 per "customer" per "year" (by default, or until they clear their cookies)
     +-->   
    <cache name="org.jasig.portal.portlet.dao.jpa.PortalCookieImpl"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches queries for PortalCookieImpl objects by cookie value
     | - 1 per active user
     +-->   
    <cache name="org.jasig.portal.portlet.dao.jpa.PortalCookieImpl.query.FIND_COOKIE_BY_VALUE"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches the IPortletCookie collection within PortalCookieImpl objects
     | - 1 per portlet cookie per "customer" per "year" (by default, or until they clear their cookies)
     +-->  
    <cache name="org.jasig.portal.portlet.dao.jpa.PortalCookieImpl.portletCookies"
        eternal="false" maxElementsInMemory="2500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />  
    <!-- 
     | Caches the PortletCookieImpl objects
     | - 1 per portlet cookie per "customer" per "year" (by default, or until they clear their cookies)
     +--> 
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletCookieImpl"
        eternal="false" maxElementsInMemory="25000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="900" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
        
    <!-- 
     | Caches PortletType objects
     | - 1 x channel type
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletTypeImpl"
        eternal="false" maxElementsInMemory="250" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Query cache for PortletType
     | - 1 x channel type
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletTypeImpl.query.FIND_PORTLET_TYPE_BY_NAME"
        eternal="false" maxElementsInMemory="250" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Query cache for PortletType
     | - unique query that gets all channel types
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletTypeImpl.query.FIND_ALL_PORTLET_TYPE"
        eternal="false" maxElementsInMemory="1" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LRU" statistics="true" />

    <!-- 
     | Caches PortletDefinitionImpl objects
     | - 1 x published portlet
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletDefinitionImpl"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LFU" statistics="true" />
    <!-- 
     | Caches PortletDefinitionImpl queries by fname
     | - 1 x published portlet
     | - not replicated
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletDefinitionImpl.query.FIND_PORTLET_DEF_BY_FNAME"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LFU" statistics="true" />
    <!-- 
     | Caches PortletDefinitionImpl queries by name
     | - 1 x published portlet
     | - not replicated
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletDefinitionImpl.query.FIND_PORTLET_DEF_BY_NAME"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LFU" statistics="true" />
    <!-- 
     | Caches query that returns all portlet definitions
     | - 1
     | - not replicated
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletDefinitionImpl.query.FIND_ALL_PORTLET_DEFS"
        eternal="false" maxElementsInMemory="1" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LFU" statistics="true" />
        
    <!-- 
     | Caches PortletLocalizationData objects within PortletDefinitionImpl objects
     | - 1 per localization data x published portlets
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletDefinitionImpl.localizations"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LFU" statistics="true" />
    <!-- 
     | Caches IPortletDefinitionParameter objects within PortletDefinitionImpl objects
     | - 1 per portlet definition parameter x published portlets
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletDefinitionImpl.parameters"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LFU" statistics="true" />
    <!-- 
     | Caches PortletDefinitionParameterImpl objects
     | - 1 x published portlet
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletDefinitionParameterImpl"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="21600" memoryStoreEvictionPolicy="LFU" statistics="true" />
        
    <!-- 
     | Caches parsing entity id strings into entity ids
     | - 1 x subscribed portlet x user
     | - not replicated
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletEntityImpl.idParseCache"
        eternal="false" maxElementsInMemory="15000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="60" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches PortletEntityImpl objects
     | - 1 x subscribed portlet x user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletEntityImpl"
        eternal="false" maxElementsInMemory="15000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches queries by portlet definition id for PortletEntityImpl objects
     | - 1 x portlet definition
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletEntityImpl.query.FIND_PORTLET_ENTS_BY_PORTLET_DEF"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches queries by user id for PortletEntityImpl objects
     | - 1 x user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletEntityImpl.query.FIND_PORTLET_ENTS_BY_USER_ID"
        eternal="false" maxElementsInMemory="1500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches PortletPreferencesImpl objects
     | - 1 x subscribed portlet x user
     | - 1 x published portlet
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletPreferencesImpl"
        eternal="false" maxElementsInMemory="15500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches PortletPreferencesImpl's list of preference objects
     | - 1 x subscribed portlet x user
     | - 1 x published portlet
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletPreferencesImpl.portletPreferences"
        eternal="false" maxElementsInMemory="15500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches PortletPreferenceImpl
     | - 1 x actual stored portlet preference
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletPreferenceImpl"
        eternal="false" maxElementsInMemory="2200" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches PortletPreferenceImpl's list of values
     | - 1 x actual stored portlet preference
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.portlet.dao.jpa.PortletPreferenceImpl.values"
        eternal="false" maxElementsInMemory="2200" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches local users
     | - 1 x local user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonImpl"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches query results for all local users
     | - 1
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonImpl.query.FIND_ALL_ACCOUNTS"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />        
    <!-- 
     | Caches query results for finding a local user by name
     | - 1 x local user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonImpl.query.FIND_ACCOUNT_BY_NAME"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />       
    <!-- 
     | Caches query results for finding a local user with a search
     | - 1 x local user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonImpl.query.ACCOUNT_SEARCH"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />      
    <!-- 
     | Caches query results for finding a local user with a search
     | - 1 x local user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonAttributeImpl.query.FIND_AVAILABLE_ATTRIBUTES"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches local users attributes
     | - 1 x local user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonImpl.attributes"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" /> 
    
    <!-- 
     | Caches local users attributes
     | - 10 x local user (approx)
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonAttributeImpl"
        eternal="false" maxElementsInMemory="5000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches local users attributes' values
     | - 1 x local user x # user attributes
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.persondir.dao.jpa.LocalAccountPersonAttributeImpl.values"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="900" timeToLiveSeconds="1800" memoryStoreEvictionPolicy="LRU" statistics="true" />       
        
        
    
    <!-- 
     | Caches last updated timestamp for each hibernate managed table
     | - 1 x hibernate managed table
     | - not replicated - used to track local modifications to tables
     +-->
    <cache name="org.hibernate.cache.UpdateTimestampsCache"
        eternal="false" maxElementsInMemory="100" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />

    <!-- 
     | Caches SQL query level results for entity queries that don't specify an explicit cache region
     | - 1 x managed query result
     | - not replicated - used to track local query results
     +-->
    <cache name="org.hibernate.cache.StandardQueryCache"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="300" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- Portal javascript and css gzipping filter cache -->

    <cache name="org.jasig.portal.utils.cache.ConfigurablePageCachingFilter.PAGE_CACHE"
        eternal="false" maxElementsInMemory="250" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- XSLT caches -->
    <!-- 
     | Note: overflowToDisk MUST be false for XSLT caches as these caches store "javax.xml.transform.Templates" or
     | "org.jasig.portal.StylesheetSet" instances which are not Serializable
     +-->
    <cache name="org.jasig.portal.utils.cache.resource.CachingResourceLoader"
        eternal="false" maxElementsInMemory="500" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />

    <!-- 
     | Caches compiled SpEL Expression objects
     | - 1 x expression used in the portal
     | - not replicated
     +-->
    <cache name="SpELExpressionCache"
        eternal="false" maxElementsInMemory="5000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />

    <!-- 
     | Caches post-layout pipeline events
     | - 1 x user x navigational state
     | - not replicated
     +-->
    <cache name="org.jasig.portal.rendering.STRUCTURE_TRANSFORM"
        eternal="false" maxElementsInMemory="5000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />

    <!-- 
     | Caches post-layout pipeline events
     | - 1 x user x navigational state
     | - not replicated
     +-->
    <cache name="org.jasig.portal.rendering.THEME_TRANSFORM"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="0" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    <!-- 
     | Caches LayoutNodeAttributeImpl objects
     | - 1 per layout node attribute
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.LayoutNodeAttributesImpl"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches the attributes collection within LayoutNodeAttributeImpl objects
     | - 1 per layout node attribute
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.LayoutNodeAttributesImpl.attributes"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches LayoutAttributeDescriptorImpl objects
     | - 1 per layout attribute
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.LayoutAttributeDescriptorImpl"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches targetElementNames collection within LayoutAttributeDescriptorImpl objects
     | - 1 per layout attribute
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.LayoutAttributeDescriptorImpl.targetElementNames"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches StylesheetUserPreferences
     | - 1 per customization per user
     | - replicated by invalidation
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetUserPreferencesImpl"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches StylesheetUserPreferences queries by person and profile
     | - 1 per customization per user
     | - not replicated
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetUserPreferencesImpl.query.FIND_PREFERENCES_BY_DESCRIPTOR_PERSON_PROFILE_CACHE_REGION"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches LayoutNodeAttributes collection within StylesheetUserPreferences
     | - 1 per customization per user
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetUserPreferencesImpl.layoutAttributes"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches outputProperties collection within StylesheetUserPreferences
     | - 1 per customization per user
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetUserPreferencesImpl.outputProperties"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches parameters collection within StylesheetUserPreferences
     | - 1 per customization per user
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetUserPreferencesImpl.parameters"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches outputproperties
     | - 1 per output property per customization per user
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.OutputPropertyDescriptorImpl"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches StylesheetParameterDescriptor
     | - 1 per stylesheet parameter per stylesheet
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetParameterDescriptorImpl"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="3600" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
            
    <!-- 
     | Caches StylesheetDescriptor 
     | - 1 per stylesheet used in the rendering pipeline
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetDescriptorImpl"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="300" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches StylesheetDescriptor queries
     | - 1 per stylesheet used in the rendering pipeline
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetDescriptorImpl.query.FIND_DESCRIPTOR_BY_NAME"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="300" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
        
    <!-- 
     | Caches StylesheetDescriptor outputProperties
     | - 1 per stylesheet output property x stylesheets used in the rendering pipeline
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetDescriptorImpl.outputProperties"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="300" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches StylesheetDescriptor stylesheet parameters
     | - 1 per stylesheet parameter x stylesheets used in the rendering pipeline
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetDescriptorImpl.stylesheetParameters"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="300" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    <!-- 
     | Caches StylesheetDescriptor layout attributes
     | - 1 per stylesheet layout attribute x stylesheets used in the rendering pipeline
     +-->
    <cache name="org.jasig.portal.layout.dao.jpa.StylesheetDescriptorImpl.layoutAttributes"
        eternal="false" maxElementsInMemory="10000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="300" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
        
    <!-- 
     | Caches resolution of events that are supported by the portlet deployment 
     | - 1 x portlet deployment x portlet event
     +-->
    <cache name="org.jasig.portal.portlet.rendering.SupportedEventCache"
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false" 
        timeToIdleSeconds="300" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true" />
    
    
    <!--
     | Caches message
     | - 1 per each translated message (max = messages * supported locales)
     +-->
    <cache name="org.jasig.portal.i18n.dao.jpa.MessageImpl" 
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false"
        timeToIdleSeconds="60" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true"/>
    <!--
     | Caches query results for finding a message by its code
     | - 1 per each translated message (max = messages * supported locales)
     +-->
    <cache name="org.jasig.portal.i18n.dao.jpa.MessageImpl.query.FIND_MESSAGE_BY_CODE_AND_LOCALE" 
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false"
        timeToIdleSeconds="60" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true"/>
    <!--
     | Caches query results for finding a message by its locale
     | - 1 per each supported locale
     +-->
    <cache name="org.jasig.portal.i18n.dao.jpa.MessageImpl.query.FIND_MESSAGES_BY_LOCALE" 
        eternal="false" maxElementsInMemory="200" overflowToDisk="false" diskPersistent="false"
        timeToIdleSeconds="60" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true"/>
    <!--
     | Caches query results for finding a message by its locale and code (exact message)
     | - 1 per each unique message code
     +-->
    <cache name="org.jasig.portal.i18n.dao.jpa.MessageImpl.query.FIND_MESSAGE_BY_CODE" 
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false"
        timeToIdleSeconds="60" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true"/>
    <!--
     | Caches query results for finding message codes
     | - 1 per each message code
     +-->
    <cache name="org.jasig.portal.i18n.dao.jpa.MessageImpl.query.FIND_MESSAGE_CODES" 
        eternal="false" maxElementsInMemory="1000" overflowToDisk="false" diskPersistent="false"
        timeToIdleSeconds="60" timeToLiveSeconds="0" memoryStoreEvictionPolicy="LRU" statistics="true"/>
        

    <!-- ==================== PortalEvent Aggregation Caches ==================== -->
        
    <!--
     | Caches query results for finding message codes
     | - 1 aggregation processing type
     +-->
    <cache name="AggregateEvents.org.jasig.portal.events.aggr.EventAggregatorStatusImpl" 
        eternal="false" maxElementsInMemory="2" overflowToDisk="false" diskPersistent="false"
        timeToIdleSeconds="0" timeToLiveSeconds="30" memoryStoreEvictionPolicy="LRU" statistics="true"/>
    <!--
     | Caches query results for finding message codes
     | - 1 aggregation processing type
     +-->
    <cache name="AggregateEvents.org.jasig.portal.events.aggr.EventAggregatorStatusImpl.query.FIND_AGGR_STATUS_BY_PROC_TYPE" 
        eternal="false" maxElementsInMemory="2" overflowToDisk="false" diskPersistent="false"
        timeToIdleSeconds="0" timeToLiveSeconds="30" memoryStoreEvictionPolicy="LRU" statistics="true"/>
        
        
    
</ehcache>
